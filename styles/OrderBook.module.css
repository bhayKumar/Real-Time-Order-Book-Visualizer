.container {
  background: var(--color-surface, #fff);
  border: 1px solid var(--color-card-border, rgba(15,23,42,0.08));
  border-radius: 10px;
  padding: 14px;
  box-shadow: 0 1px 2px rgba(15,23,42,0.03);
}
.header { margin-bottom: 10px; padding-left: 8px; }
.orderBookGrid {
  display: grid;
  /* Use minmax so columns can shrink/expand into available space and avoid large right-side gaps */
  grid-template-columns: minmax(0, 1fr) 120px minmax(0, 1fr);
  gap: 12px;
  align-items: start;
  /* Left-align the grid so UI shifts toward the left and uses available space */
  justify-content: start;
}
.bidsSection, .asksSection {
  min-height: 220px;
  /*
    Make the orderbook panes responsive to viewport height so they use available
    vertical space on large screens instead of leaving a big blank area below.

    Approach/assumption: subtract ~220px from 100vh to account for surrounding UI
    (page header, margins, and controls). Use `min()` to cap the pane height on
    very large screens so it doesn't become excessively tall.
  */
  max-height: min(640px, calc(100vh - 220px));
  display: flex;
  flex-direction: column;
}
.columnHeaders {
  /* Use grid so header cells line up exactly with the row grid below */
  display: grid;
  grid-template-columns: 40% 30% 30%;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  color: var(--color-text-secondary);
  font-weight: 600;
  /* no padding-right needed when header lives inside the scroll container */
}

/* Keep a defensive min-width to avoid overflow issues */
.columnHeaders > span { min-width: 0; }

/* When the header is inside the scrollable orders container make it sticky
   so it remains visible and shares the scrollbar width with the rows */
.orders > .columnHeaders {
  position: sticky;
  top: 0;
  z-index: 2;
  background: transparent;
  /* match row padding so header cells align horizontally with row cells */
  padding: 6px 8px;
}

.orders > .columnHeaders > span:nth-child(1) { text-align: left; }
.orders > .columnHeaders > span:nth-child(2) { text-align: right; }
.orders > .columnHeaders > span:nth-child(3) { text-align: right; }
.orders {
  display:flex;
  flex-direction:column;
  gap:6px;
  margin-top:10px;
  /* Make the list scrollable when it exceeds the max-height of the parent section */
  overflow-y: auto;
  /* Prevent layout shift when the scrollbar appears/disappears */
  scrollbar-gutter: stable both-edges;
  /* Reserve space on the right so the native scrollbar doesn't cover the Total column */
  padding-right: 16px;
}
.row {
  /* Use the same grid columns as the header so values line up precisely */
  display: grid;
  grid-template-columns: 40% 30% 30%;
  align-items: center;
  gap: 8px;
  position: relative;
  padding: 6px 8px;
  border-radius: 6px;
}
.row:hover { background: rgba(15,23,42,0.02); }
.depthBar {
  /* Full-size overlay behind the row. Color intensity (alpha) visualizes depth.
     Expect a numeric --depth value in the range 0..1 to be provided per-row. */
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  border-radius: 6px;
  pointer-events: none;
  z-index: 0; /* keep behind row content */
  background: transparent;
  transition: background-color 180ms linear, opacity 180ms linear;
}

/* Use solid base color and drive opacity with --depth for broader browser support,
   while also including a modern rgba() form with computed alpha where supported. */
.bidBar {
  left: 0;
  right: 0;
  background-color: rgb(5 150 105);
  opacity: calc(var(--depth, 0) * 0.9);
  background-color: rgba(5 150 105 / calc(var(--depth, 0) * 0.9));
}
.askBar {
  left: 0;
  right: 0;
  background-color: rgb(220 38 38);
  opacity: calc(var(--depth, 0) * 0.9);
  background-color: rgba(220 38 38 / calc(var(--depth, 0) * 0.9));
}
.price { width:40%; text-align:left; color:var(--color-text); font-weight:600; min-width:0; }
.amount { width:30%; text-align:right; color:var(--color-text-secondary); min-width:0; }
.total { width:30%; text-align:right; color:var(--color-text-secondary); min-width:0; }
.spread { display:flex; align-items:center; justify-content:center; }
.spreadValue { font-weight:700; color:var(--color-text); }

/* Header action buttons (Bid / Ask) */
.headerActions { display: none; gap:8px; align-items:center; }
.bidButton, .askButton {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 8px 12px;
  border-radius: 8px;
  border: 1px solid rgba(15,23,42,0.06);
  font-weight: 700;
  cursor: pointer;
  min-width: 64px;
  transition: transform .08s ease, box-shadow .08s ease, opacity .08s ease;
}
.bidButton {
  background: var(--color-success, #059669);
  color: #ffffff;
  box-shadow: 0 1px 0 rgba(5,150,105,0.12);
}
.bidButton:hover { transform: translateY(-1px); }
.askButton {
  background: var(--color-error, #dc2626);
  color: #ffffff;
  box-shadow: 0 1px 0 rgba(220,38,38,0.12);
}
.askButton:hover { transform: translateY(-1px); }
